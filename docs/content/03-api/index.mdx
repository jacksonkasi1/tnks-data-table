---
title: API Reference
description: Complete API documentation for the DataTable component
---

# API Reference

Complete reference for all props, types, and configuration options.

## DataTable Component

### Props

<TypeTable
  type={{
    getColumns: {
      description: 'Function that returns column definitions',
      type: '(handleRowDeselection?: (rowId: string) => void) => ColumnDef<T>[]',
      required: true,
    },
    fetchDataFn: {
      description: 'React Query hook for fetching data',
      type: 'QueryHook',
      required: true,
    },
    idField: {
      description: 'Field to use as unique row identifier',
      type: 'keyof T',
      required: true,
    },
    fetchByIdsFn: {
      description: 'Function to fetch multiple rows by IDs (required for cross-page selection)',
      type: '(ids: number[]) => Promise<T[]>',
      required: false,
    },
    pageSizeOptions: {
      description: 'Available page size options',
      type: 'number[]',
      default: '[10, 20, 30, 50, 100]',
      required: false,
    },
    exportConfig: {
      description: 'Configuration for data export',
      type: 'ExportConfig',
      required: false,
    },
    onRowClick: {
      description: 'Callback when row is clicked',
      type: '(rowData: T, rowIndex: number) => void',
      required: false,
    },
    renderToolbarContent: {
      description: 'Custom toolbar content renderer',
      type: '(options: ToolbarOptions<T>) => React.ReactNode',
      required: false,
    },
    subRowsConfig: {
      description: 'Configuration for hierarchical data',
      type: 'SubRowsConfig',
      required: false,
    },
    config: {
      description: 'Table feature configuration',
      type: 'DataTableConfig',
      required: false,
    },
    className: {
      description: 'Additional CSS class for table container',
      type: 'string',
      required: false,
    },
  }}
/>

### Example

```tsx
<DataTable<User, any>
  getColumns={getColumns}
  fetchDataFn={useUsersData}
  idField="id"
  fetchByIdsFn={fetchUsersByIds}
  pageSizeOptions={[10, 20, 50, 100]}
  exportConfig={useExportConfig()}
  onRowClick={handleRowClick}
  renderToolbarContent={({ selectedRows }) => (
    <ToolbarOptions selectedRows={selectedRows} />
  )}
  config={{
    enableRowSelection: true,
    enableSearch: true,
  }}
/>
```

## DataTableConfig

Configuration object for table features.

### Type Definition

```typescript
interface DataTableConfig {
  // Features
  enableRowSelection?: boolean;
  enableClickRowSelect?: boolean;
  enableKeyboardNavigation?: boolean;
  enableSearch?: boolean;
  enableDateFilter?: boolean;
  enableColumnVisibility?: boolean;
  enableUrlState?: boolean;

  // Sorting
  defaultSortBy?: string;
  defaultSortOrder?: 'asc' | 'desc';

  // Search
  searchPlaceholder?: string;

  // Column Resizing
  columnResizingTableId?: string;

  // Export
  allowExportNewColumns?: boolean;

  // UI
  size?: 'sm' | 'default' | 'lg';
}
```

### Properties

<TypeTable
  type={{
    enableRowSelection: {
      description: 'Enable row selection with checkboxes',
      type: 'boolean',
      default: 'false',
      required: false,
    },
    enableClickRowSelect: {
      description: 'Allow clicking row to select it',
      type: 'boolean',
      default: 'false',
      required: false,
    },
    enableKeyboardNavigation: {
      description: 'Enable keyboard navigation',
      type: 'boolean',
      default: 'true',
      required: false,
    },
    enableSearch: {
      description: 'Show search input',
      type: 'boolean',
      default: 'true',
      required: false,
    },
    enableDateFilter: {
      description: 'Show date range filter',
      type: 'boolean',
      default: 'false',
      required: false,
    },
    enableColumnVisibility: {
      description: 'Allow toggling column visibility',
      type: 'boolean',
      default: 'true',
      required: false,
    },
    enableUrlState: {
      description: 'Persist state in URL',
      type: 'boolean',
      default: 'true',
      required: false,
    },
    defaultSortBy: {
      description: 'Initial sort column (must match accessorKey)',
      type: 'string | undefined',
      default: 'undefined',
      required: false,
    },
    defaultSortOrder: {
      description: 'Initial sort direction',
      type: "'asc' | 'desc'",
      default: "'desc'",
      required: false,
    },
    searchPlaceholder: {
      description: 'Custom search placeholder',
      type: 'string',
      default: '"Search {entityName}..."',
      required: false,
    },
    columnResizingTableId: {
      description: 'ID for persisting column sizes',
      type: 'string | undefined',
      default: 'undefined',
      required: false,
    },
    allowExportNewColumns: {
      description: 'Include transform function columns in export',
      type: 'boolean',
      default: 'true',
      required: false,
    },
    size: {
      description: 'UI component size',
      type: "'sm' | 'default' | 'lg'",
      default: "'default'",
      required: false,
    },
  }}
/>

## SubRowsConfig

Configuration for hierarchical data (subrows).

### Type Definition

```typescript
interface SubRowsConfig {
  enabled: boolean;
  mode: 'same-columns' | 'custom-columns' | 'custom-component';
  expandIconPosition?: 'first' | 'last' | 'custom';
  getSubRowColumns?: () => ColumnDef<any>[];
  CustomSubRowComponent?: React.ComponentType<{
    subRows: any[];
    parentRow: any;
  }>;
}
```

### Properties

<TypeTable
  type={{
    enabled: {
      description: 'Enable subrows feature',
      type: 'boolean',
      required: true,
    },
    mode: {
      description: 'Rendering mode for subrows',
      type: "'same-columns' | 'custom-columns' | 'custom-component'",
      required: true,
    },
    expandIconPosition: {
      description: 'Where to show expand icon',
      type: "'first' | 'last' | 'custom'",
      default: "'first'",
      required: false,
    },
    getSubRowColumns: {
      description: 'Required for custom-columns mode',
      type: '() => ColumnDef<any>[]',
      required: false,
    },
    CustomSubRowComponent: {
      description: 'Required for custom-component mode',
      type: 'React.ComponentType<{ subRows: any[]; parentRow: any }>',
      required: false,
    },
  }}
/>

### Example

```tsx
subRowsConfig={{
  enabled: true,
  mode: 'same-columns',
  expandIconPosition: 'first',
}}
```

## ExportConfig

Configuration for data export.

### Type Definition

```typescript
interface ExportConfig {
  headers: string[];
  columnMapping: Record<string, string>;
  columnWidths?: { wch: number }[];
  transformFunction?: DataTransformFunction<T>;
  entityName: string;
  flatten?: boolean;
}
```

### Properties

<TypeTable
  type={{
    headers: {
      description: 'Array of field names to export (in order)',
      type: 'string[]',
      required: true,
    },
    columnMapping: {
      description: 'Maps field names to export headers',
      type: 'Record<string, string>',
      required: true,
    },
    columnWidths: {
      description: 'Column widths for Excel (in characters)',
      type: '{ wch: number }[]',
      required: false,
    },
    transformFunction: {
      description: 'Function to transform data before export',
      type: 'DataTransformFunction<T>',
      required: false,
    },
    entityName: {
      description: 'Used in filename: {entityName}_2024-01-15.xlsx',
      type: 'string',
      required: true,
    },
    flatten: {
      description: 'Flatten subrows for export',
      type: 'boolean',
      default: 'true',
      required: false,
    },
  }}
/>

### Example

```tsx
{
  headers: ["id", "name", "email", "created_at"],
  columnMapping: {
    id: "User ID",
    name: "Full Name",
    email: "Email Address",
    created_at: "Registration Date",
  },
  columnWidths: [
    { wch: 10 },
    { wch: 25 },
    { wch: 30 },
    { wch: 20 },
  ],
  transformFunction: (row) => ({
    ...row,
    created_at: formatDate(row.created_at),
  }),
  entityName: "users",
}
```

## DataTransformFunction

Type for export transformation functions.

### Type Definition

```typescript
type DataTransformFunction<T> = (row: T) => Record<string, any>;
```

### Example

```typescript
const transformData: DataTransformFunction<User> = (row: User) => ({
  ...row,
  created_at: formatTimestampToReadable(row.created_at),
  total_spent: formatCurrency(row.total_spent),
  customer_tier: calculateTier(row.total_spent),
});
```

## ToolbarOptions

Passed to `renderToolbarContent` for custom toolbar.

### Type Definition

```typescript
interface ToolbarOptions<T> {
  selectedRows: T[];
  allSelectedIds: number[];
  totalSelectedCount: number;
  resetSelection: () => void;
}
```

### Properties

<TypeTable
  type={{
    selectedRows: {
      description: 'Currently selected rows (visible on current page)',
      type: 'T[]',
      required: false,
    },
    allSelectedIds: {
      description: 'All selected row IDs across all pages',
      type: 'number[]',
      required: false,
    },
    totalSelectedCount: {
      description: 'Total number of selected rows',
      type: 'number',
      required: false,
    },
    resetSelection: {
      description: 'Function to clear all selections',
      type: '() => void',
      required: false,
    },
  }}
/>

### Example

```tsx
renderToolbarContent={({
  selectedRows,
  allSelectedIds,
  totalSelectedCount,
  resetSelection
}) => (
  <div>
    {totalSelectedCount > 0 && (
      <Button onClick={resetSelection}>
        Clear {totalSelectedCount} selected
      </Button>
    )}
  </div>
)}
```

## ColumnDef

Column definition from TanStack Table with common patterns.

### Essential Properties

<TypeTable
  type={{
    accessorKey: {
      description: 'Key to access the data in the row object',
      type: 'keyof T',
      required: true,
    },
    header: {
      description: 'Header content or render function',
      type: 'string | ((props: HeaderContext<T>) => React.ReactNode)',
      required: false,
    },
    cell: {
      description: 'Custom cell renderer',
      type: '(props: CellContext<T>) => React.ReactNode',
      required: false,
    },
    size: {
      description: 'Column width in pixels',
      type: 'number',
      required: false,
    },
    enableSorting: {
      description: 'Enable sorting for this column',
      type: 'boolean',
      required: false,
    },
    enableHiding: {
      description: 'Allow hiding this column',
      type: 'boolean',
      required: false,
    },
    enableResizing: {
      description: 'Allow resizing this column',
      type: 'boolean',
      required: false,
    },
  }}
/>

### Example

```tsx
{
  accessorKey: "name",
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title="Name" />
  ),
  cell: ({ row }) => (
    <div className="font-medium">{row.getValue("name")}</div>
  ),
  size: 200,
  enableSorting: true,
  enableHiding: true,
}
```

## QueryHook

Type for data fetching hooks (React Query).

### Type Definition

```typescript
type QueryHook = (
  page: number,
  pageSize: number,
  search: string,
  dateRange: { from_date: string; to_date: string },
  sortBy: string,
  sortOrder: string
) => UseQueryResult<QueryResponse>;

interface QueryResponse {
  data: T[];
  pagination: {
    page: number;
    limit: number;
    total_pages: number;
    total_items: number;
  };
}
```

### Example

```typescript
export function useUsersData(
  page: number,
  pageSize: number,
  search: string,
  dateRange: { from_date: string; to_date: string },
  sortBy: string,
  sortOrder: string
) {
  return useQuery({
    queryKey: ["users", page, pageSize, search, dateRange, sortBy, sortOrder],
    queryFn: () => fetchUsers({
      page,
      limit: pageSize,
      search,
      from_date: dateRange.from_date,
      to_date: dateRange.to_date,
      sort_by: sortBy,
      sort_order: sortOrder,
    }),
    placeholderData: keepPreviousData,
  });
}

// Required property
useUsersData.isQueryHook = true;
```

## Next Steps

- [Configuration Guide](/docs/configuration) - Detailed config options
- [Features](/docs/features) - Feature documentation
- [Examples](/docs/examples) - Real-world implementations
